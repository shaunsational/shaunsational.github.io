let strings = {
	"en-US": {
		"noVialsSet": "I need to know how many vials there are.",
		"moreEmptyVials": "There cannot be the same amount or more empty vials than there are vials.",
		"noMemory": "I ran out of memory looking for a solution, uncover more colors and try again.",
		"noSolution": "No solution found, check your colors and try again.",
		"tooManySolutions": "Too many possible solutions, I will probably crash your device trying to find a solution.",
		"drStrange": "There are %% possible solutions and the processing to determine them happens on your device.  Your device may become unresponsive for some time, or even freeze, requiring you to restart it.%%As far as I know there is no harmful permanent damage that can be done to your device.%%Do you wish to continue?",
		"resetColors": "Are you sure, you will lose any colors currently set?",
		"progress": "Attempting solution %% of %%",

		"colorSegments": "Color<br />Segments",
		"totalVials": "Total<br />Vials",
		"emptyVials": "Empty<br />Vials",

		"modalTitle": "WAIT!",
		"modalText": "Are you sure you want to complete this action?",
		"yesButton": "Ok",
		"cancel": "Cancel",
		"continueButton": "Resume",
		"sorry": "SORRY",
		"error": "ERROR",

		"colors": "COLORS",
		"reset": "RESET",
		"attempt": "ATTEMPT",
		"solution": "SOLUTION",
		"back": "BACK",
		"next": "NEXT"
	},
	"it-IT": {
		"noVialsSet": "Ho bisogno di sapere quante fiale ci sono.",
		"moreEmptyVials": "Non possono esserci fiale vuote in numero uguale o superiore alle fiale presenti.",
		"noMemory": "Ho esaurito la memoria cercando una soluzione, ho scoperto altri colori e ho riprovato.",
		"noSolution": "Nessuna soluzione trovata, controlla i colori e riprova.",
		"tooManySolutions": "Troppe soluzioni possibili, probabilmente farò crashare il tuo dispositivo nel tentativo di trovare una soluzione.",
		"drStrange": "Esistono %% soluzioni possibili e l'elaborazione per determinarle viene eseguita sul tuo dispositivo. Il tuo dispositivo potrebbe non rispondere per un po' di tempo o addirittura bloccarsi, richiedendoti di riavviarlo.%%Per quanto ne so, non è possibile arrecare danni permanenti dannosi al tuo dispositivo.%%Vuoi continuare?",
		"resetColors": "Sei sicuro che perderai tutti i colori attualmente impostati?",
		"progress": "Tentativo di soluzione %% di %%",

		"colorSegments": "Colore<br />Segmenti",
		"totalVials": "Totale<br />Fiale",
		"emptyVials": "Fiale<br />vuote",

		"modalTitle": "ATTESA!",
		"modalText": "Sei sicuro di voler completare questa azione?",
		"yesButton": "Si",
		"cancel": "Annulla",
		"continueButton": "Continuare",
		"sorry": "MI SCUSI",
		"error": "ERRORE",

		"colors": "COLORI",
		"reset": "RESET",
		"attempt": "TENTATIVO",
		"solution": "SOLUZIONE",
		"back": "INDIETRO",
		"next": "PROSSIMO"
	},
	"es-ES": {
		"noVialsSet": "Necesito saber cuantos viales hay.",
		"moreEmptyVials": "No puede haber la misma cantidad o más viales vacíos que viales.",
		"noMemory": "Me quedé sin memoria buscando una solución, descubrir más colores y volver a intentarlo.",
		"noSolution": "No se encontró solución, verifique sus colores y vuelva a intentarlo.",
		"tooManySolutions": "Demasiadas soluciones posibles, probablemente bloquearé su dispositivo tratando de encontrar una solución.",
		"drStrange": "Hay %% posibles soluciones y el proceso para determinarlas se lleva a cabo en tu dispositivo. Es posible que tu dispositivo no responda durante un tiempo o incluso se congele, lo que requerirá que lo reinicies.%%Hasta donde sé, no se pueden producir daños permanentes perjudiciales en tu dispositivo.%%¿Deseas continuar?",
		"resetColors": "¿Estás seguro de que perderás los colores configurados actualmente?",
		"progress": "Intentando solución %% de %%",

		"colorSegments": "Segmentos<br />de color",
		"totalVials": "Total<br />de viales",
		"emptyVials": "Viales<br />vacíos",

		"modalTitle": "¡ESPERE!",
		"modalText": "¿Está seguro de que desea completar esta acción?",
		"yesButton": "Sí",
		"cancel": "Cancelar",
		"continueButton": "Continuar",
		"sorry": "PERDÓN",
		"error": "FALLO",

		"colors": "COLORES",
		"reset": "REINICIAR",
		"attempt": "INTENTAR",
		"solution": "SOLUCIÓN",
		"back": "ATRÁS",
		"next": "PRÓXIMO"
	},
	"de-DE": {
		"noVialsSet": "Ich muss wissen, wie viele Fläschchen es gibt.",
		"moreEmptyVials": "Es kann nicht gleich viele oder mehr leere Fläschchen geben, als Fläschchen vorhanden sind.",
		"noMemory": "Bei der Suche nach einer Lösung ging mir der Speicher aus. Ich habe weitere Farben gefunden und es erneut versucht.",
		"noSolution": "Keine Lösung gefunden. Überprüfen Sie Ihre Farben und versuchen Sie es erneut.",
		"tooManySolutions": "Zu viele mögliche Lösungen. Wahrscheinlich werde ich Ihr Gerät beim Versuch, eine Lösung zu finden, zum Absturz bringen.",
		"drStrange": "Es gibt %% mögliche Lösungen und die Verarbeitung zu deren Ermittlung erfolgt auf Ihrem Gerät. Ihr Gerät reagiert möglicherweise für einige Zeit nicht oder friert sogar ein, sodass Sie es neu starten müssen.%%Soweit mir bekannt ist, kann Ihr Gerät nicht dauerhaft beschädigt werden.%%Möchten Sie fortfahren?",
		"resetColors": "Sind Sie sicher, dass alle aktuell eingestellten Farben verloren gehen?",
		"progress": "Lösungsversuch %% von %%",

		"colorSegments": "Farbsegmente",
		"totalVials": "Gesamtmenge<br />Fläschchen",
		"emptyVials": "Leere<br />Fläschchen",

		"modalTitle": "WARTEN!",
		"modalText": "Möchten Sie diese Aktion wirklich abschließen?",
		"yesButton": "Ja",
		"cancel": "Abbrechen",
		"continueButton": "Weitermachen",
		"sorry": "VERZEIHUNG",
		"error": "FEHLER",

		"colors": "FARBEN",
		"reset": "ZURÜCKSETZEN",
		"attempt": "VERSUCHEN",
		"solution": "LÖSUNG",
		"back": "ZURÜCK",
		"next": "NÄCHSTE"
	},
	"ja-JP": {
		"noVialsSet": "バイアルが何本あるかを知る必要があります。",
		"moreEmptyVials": "空のバイアルの数がバイアルの総数と同じかそれ以上になることはできません。",
		"noMemory": "解決策を探してメモリが不足しました。さらに色を見つけて、もう一度試してください。",
		"noSolution": "解決策が見つかりません。色を確認してもう一度お試しください。",
		"tooManySolutions": "解決策が多すぎるため、解決策を見つけようとするとデバイスがクラッシュする可能性があります。",
		"drStrange": "%% の解決策が考えられますが、それらを決定する処理はデバイス上で行われます。デバイスがしばらく応答しなくなったり、フリーズしたりして、再起動が必要になる場合があります。%%私の知る限り、デバイスに永久的な損傷を与えることはありません。%%続行しますか?",
		"resetColors": "現在設定されている色はすべて失われますが、よろしいですか?",
		"progress": "ソリューションを試みています %% / ##",

		"colorSegments": "色のセグメント",
		"totalVials": "合計バイアル数",
		"emptyVials": "空の瓶",

		"modalTitle": "待つ!",
		"modalText": "この操作を完了してもよろしいですか?",
		"yesButton": "はい",
		"cancel": "中止",
		"continueButton": "続ける",
		"sorry": "ごめん",
		"error": "エラー",

		"colors": "カラーズ",
		"reset": "リセット",
		"attempt": "試み",
		"solution": "解決",
		"back": "戻る",
		"next": "次に"
	},
	"fr-FR": {
		"noVialsSet": "Je dois savoir combien il y a de flacons.",
		"moreEmptyVials": "Il ne peut pas y avoir la même quantité ou plus de flacons vides qu’il n’y a de flacons au total.",
		"noMemory": "J'ai manqué de mémoire en cherchant une solution, découvrez plus de couleurs et réessayez.",
		"noSolution": "Aucune solution trouvée, vérifiez vos couleurs et réessayez.",
		"tooManySolutions": "Il y a trop de solutions possibles, je vais probablement faire planter votre appareil en essayant de trouver une solution.",
		"drStrange": "Il existe %% solutions possibles et le traitement pour les déterminer se déroule sur votre appareil. Votre appareil peut cesser de répondre pendant un certain temps, voire se bloquer, vous obligeant à le redémarrer.%%Pour autant que je sache, aucun dommage permanent ne peut être causé à votre appareil.%%Souhaitez-vous continuer?",
		"resetColors": "Êtes-vous sûr de perdre toutes les couleurs actuellement définies?",
		"progress": "Tentative de résolution %% de %%",

		"colorSegments": "Couleur<br />Segments",
		"totalVials": "Total<br />Flacons",
		"emptyVials": "Vides<br />Flacons",

		"modalTitle": "ATTENDEZ!",
		"modalText": "Êtes-vous sûr de vouloir terminer cette action?",
		"yesButton": "Oui",
		"cancel": "Annuler",
		"continueButton": "Continuer",
		"sorry": "DÉSOLÉ",
		"error": "ERREUR",

		"colors": "COULEURS",
		"reset": "RÉINITIALISER",
		"attempt": "TENTATIVE",
		"solution": "SOLUTION",
		"back": "ARRIÈRE",
		"next": "SUIVANT"
	},
	"ru-RU": {
		"noVialsSet": "Мне нужно знать, сколько там флаконов.",
		"moreEmptyVials": "Пустых флаконов не может быть столько же или больше, сколько и флаконов.",
		"noMemory": "У меня закончилась память в поисках решения, найдите больше цветов и попробуйте еще раз.",
		"noSolution": "Решение не найдено, проверьте цвета и повторите попытку.",
		"tooManySolutions": "Слишком много возможных решений, я, вероятно, заморозлю ваше устройство, пытаясь найти решение.",
		"drStrange": "Существует %% возможных решений, и обработка для их определения выполняется на вашем устройстве. Ваше устройство может перестать отвечать на запросы на некоторое время или даже зависнуть, что потребует его перезапуска.%%Насколько мне известно, вашему устройству не может быть нанесено никакого вредного постоянного ущерба.%%Вы хотите продолжить?",
		"resetColors": "Вы уверены, что все добавленные вами цвета потеряются?",
		"progress": "Попытка решения %% из ##",

		"colorSegments": "Цветные<br />сегменты",
		"totalVials": "Всего<br />Флаконов",
		"emptyVials": "Пустые<br />флаконы",

		"modalTitle": "ЖДАТЬ!",
		"modalText": "Вы уверены, что хотите завершить это действие?",
		"yesButton": "Да",
		"cancel": "Отмена",
		"continueButton": "Продолжать",
		"sorry": "ИЗВИНИ",
		"error": "ОШИБКА",

		"colors": "ЦВЕТА",
		"reset": "СБРОС",
		"attempt": "ПОПЫТКА",
		"solution": "РЕШЕНИЕ",
		"back": "НАЗАД",
		"next": "СЛЕДУЮЩИЙ"
	}
}
function getString(key, replacements=[]) {
	let string = '';
	if (!strings.hasOwnProperty(lang) || !strings[lang].hasOwnProperty(key)) { string = strings['en-US'][key]; }
	else { string = strings[lang][key]; }

	for (let i=0; i < replacements.length; i++) {
		string = string.replace('%%', replacements[i]);
	}
	return string;
}
function setHTMLStrings() {
	$$('.txtColorSegments').forEach(el=>{el.innerHTML = getString("colorSegments")});
	$$('.txtTotalVials').forEach(el=>{el.innerHTML = getString("totalVials")});
	$$('.txtEmptyVials').forEach(el=>{el.innerHTML = getString("emptyVials")});
	$$('.txtColors').forEach(el=>{el.innerHTML = getString("colors")});
	$$('.txtProgress').forEach(el=>{el.innerHTML = getString("progress", ["<span id=\"solX\">50</span>", "<span id=\"solutions\">100</span>"])});
	$$('.txtCancel').forEach(el=>{el.innerHTML = getString("cancel")});
	$$('.txtReset').forEach(el=>{el.innerHTML = getString("reset")});
	$$('.txtSolution').forEach(el=>{el.innerHTML = getString("solution")});
	$$('.txtBack').forEach(el=>{el.innerHTML = getString("back")});
	$$('.txtNext').forEach(el=>{el.innerHTML = getString("next")});

	$('#modalTitle').dataset.attempt = getString("modalTitle");
	$('#modalText').dataset.attempt = getString("modalText");
	$('a[href="#s3"]').dataset.attempt = getString("attempt");
}